//////////////////////////////////////////////////////////////////////
// Object2VR 3.1.0/10752 Object Player                              //
// License: LIN HSUAN PIN                                           //
// (c) 2015, Garden Gnome Software, http://ggnome.com               //
//////////////////////////////////////////////////////////////////////

var j=!0,k=null,r=!1;
function object2vrPlayer(Da){function gc(){var a;u=document.createElement("div");u.innerHTML=hc("PGRpdiBzdHlsZT0icG9zaXRpb246IHJlbGF0aXZlOyBsZWZ0OiAwcHg7IHJpZ2h0OiAwcHg7IHRvcDogNDAlOyBib3R0b206IDYwJTsgbWFyZ2luOiBhdXRvOyB3aWR0aDogMThlbTsgaGVpZ2h0OiA0ZW07IGJvcmRlcjogM3B4IHNvbGlkICM1NTU7IGJveC1zaGFkb3c6IDVweCA1cHggMTBweCAjMzMzOyBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTsgZGlzcGxheTogdGFibGU7IGZvbnQtZmFtaWx5OiBWZXJkYW5hLCBBcmlhbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOyBmb250LXNpemU6IDEwcHQ7IG9wYWNpdHk6IDAuOTU7IGJvcmRlci1yYWRpdXM6IDE1cHg7Ij48cCBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBkaXNwbGF5OiB0YWJsZS1jZWxsOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOyAiPkNyZWF0ZWQgd2l0aCA8YSBocmVmPSJodHRwOi8vb2JqZWN0MnZyLmNvbS8iIHRhcmdldD0iX2JsYW5rIj5PYmplY3QyVlI8L2E+PC9wPjwvZGl2Pg==");a=
"top:\t0px;left: 0px;width: 100px;height: 100px;overflow: hidden;z-index: 5000;position:relative;";"-webkit-"==H&&(a+=H+"transform: translateZ(99999999999999px);");u.setAttribute("style",a);c.c.insertBefore(u,c.c.firstChild);u.style.width=0+E+Ya+A+"px";u.style.height=0+F+Za+B+"px";u.onclick=function(){u&&(c.c.removeChild(u),u=k)};u.oncontextmenu=u.onclick}function Ab(){setTimeout(function(){c.setFullscreen(0)},10);setTimeout(function(){c.setFullscreen(0)},100)}function Ea(){Bb?setTimeout(function(){Ea()},
1E3/60):Cb(function(){Ea()});$a=0;if(0<=p){if(2==ab){var a=R-bb,f=S-cb;db(a*la/300,f*la/300)}else if(3==ab){var f=ma(),b;T?(a=(R-f.x)/A,b=(S-f.y)/B):(b=(R-f.x)/A,a=(S-f.y)/B);eb&&(b=1-b);fb&&(a=1-a);f=Math.floor((1-b)*e.f);a=Math.floor((1-a)*e.k);0>f&&(f=0);f>=e.f&&(f=e.f-1);0>a&&(a=0);a>=e.k&&(a=e.k-1);c.showObjectImage(f,a)}else U=0.4*(R-Fa),V=0.4*(S-Ga),Fa+=U,Ga+=V,db(U*la/10,V*la/10),Db&&c.changeFov(0.4*(0-100*g.a));c.b=j}if(0!=ca)switch(ca){case 16:c.changeFovLog(-1,j);c.b=j;break;case 17:case 18:case 91:c.changeFovLog(1,
j),c.b=j}if(gb&&(0!=U||0!=V)&&0>p)U*=0.9,V*=0.9,0.1>U*U+V*V?V=U=0:(db(U,V),c.b=j);if(!c.isLoaded&&c.hasConfig){for(a=f=0;a<c.checkLoaded.length;a++)c.checkLoaded[a].complete&&"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAA5JREFUeNpiYBgeACDAAADIAAE3iTbkAAAAAElFTkSuQmCC"!=c.checkLoaded[a].src&&f++;Eb&&(Eb=r);f==c.checkLoaded.length?(hb=1,c.isLoaded=j,c.divSkin&&c.divSkin.ggLoaded&&c.divSkin.ggLoaded()):hb=f/(1*c.checkLoaded.length)}if(na){e.g=
fa-e.x;e.m=ga-e.y;I=(ib-100*g.a)/10;a=Math.sqrt(e.g*e.g+e.m*e.m+I*I);10*a<sa?(na=r,e.g=0,I=e.m=0,e.x=Number(fa),e.y=Number(ga),g.a=ib/100):(a=a>5*sa?sa/a:0.2,e.g*=a,e.m*=a,I*=a);e.x+=1*e.g;e.y+=1*e.m;e.x>=e.f&&(e.x-=e.f,fa-=e.f);0>e.x&&(e.x+=e.f,fa+=e.f);e.y>=e.k&&(e.y-=e.k,ga-=e.k);0>e.y&&(e.y+=e.k,ga+=e.k);g.a+=I/10;if(0<Y&&0.5>I){var i;b=0.5-g.d/e.width;i=0.5-g.e/e.height;a=(Fb-b)/Y;f=(Gb-i)/Y;console.log("Center: "+b+","+i+" "+a+","+f);g.d=(0.5-b-a)*e.width;g.e=(0.5-i-f)*e.height;console.log(g);
Y--;Y&&(na=j)}a=new Date;jb=a.getTime();c.b=j}else if(Z){e.g=0.95*e.g+0.05*ha;e.x+=e.g;if(kb&&(0>e.x||e.x>=e.f))ha=-ha,e.g=-e.g,e.x+=2*e.g;c.b=j}else if(ia&&(a=new Date,a=a.getTime()-jb,0>p&&0<Ha&&a>1E3*Ha&&(Z=j,e.g=0,e.m=0)),gb&&0==ca&&0>p&&(0!=e.g||0!=e.m||0!=I))e.g*=0.9,e.m*=0.9,I*=0.9,e.x+=e.g,e.y+=e.m,c.changeFovLog(I),1.0E-4>e.g*e.g+e.m*e.m&&(e.g=0,I=e.m=0),c.b=j;if(0<s){if(2==s)for(a=0;a<y.length;a++)f=y[a],"poly"==f.hstype&&f.t!=f.p&&(f.t>f.p?(f.p+=0.05,f.t<f.p&&(f.p=f.t)):(f.p-=0.05,f.t>
f.p&&(f.p=f.t)),c.b=j);3==s&&$!=M&&($>M?(M+=0.05,$<M&&(M=$)):(M-=0.05,$>M&&(M=$)),c.b=j)}c.b&&(c.b=r,c.updateObject(),ta&&ic())}function Hb(){setTimeout(function(){Hb()},200);5<$a&&(Cb=function(){return function(a){window.setTimeout(a,10)}},Bb=j,Ea());$a++}function Ib(a){c.skinObj&&c.skinObj.hotspotProxyClick&&c.skinObj.hotspotProxyClick(a.id);""!=a.url&&(c.openUrl(a.url,a.target),Ia(-1,-1))}function Jb(){0<J&&(c.openUrl(c.hotspot.url,c.hotspot.target),c.skinObj&&c.skinObj.hotspotProxyClick(J))}function lb(a,
f){var b=-1,c,C;c=((a-E-0.5*A)/(g.viewport*g.a)-g.d)/e.width+0.5;C=((f-F-0.5*B)/(g.viewport*g.a)-g.e)/e.height+0.5;for(var l=0;l<y.length;l++){var K=y[l];if("poly"==K.hstype&&K.H&&0<=s)for(var z=0;z<K.H.length;z++){var h=K.H[z];if((h.Z==e.r||K.reuse&1)&&(h.$==e.s||K.reuse&2)&&(h.state==e.u||K.reuse&4))for(var m=0;m<h.L.length;m++){var n=h.L[m];if(0<n.q.length){var q,p,o,x;o=r;for(q=0,p=n.q.length-1;q<n.q.length;p=q++)x=n.q[q],p=n.q[p],x.y>C!=p.y>C&&c<(p.x-x.x)*(C-x.y)/(p.y-x.y)+x.x&&(o=!o);o&&(b=
l)}}}}return 0<=b?y[b]:r}function ic(){if(c.i){var a,f;mb!=s&&(mb=s,c.i.style.visibility=0<s?"inherit":"hidden");if(0<s){if(!o)try{o=c.i.getContext("2d")}catch(b){}if(o){if(o.width!=A||o.height!=B)o.width=A,o.height=B;o.clear?o.clear():o.clearRect(0,0,c.i.width,c.i.height);var i=1;3==s&&(i=M);for(var C=0;C<y.length;C++){var l=y[C];if("poly"==l.hstype)for(var K=0;K<l.H.length;K++){var z=l.H[K];if((z.Z==e.r||l.reuse&1)&&(z.$==e.s||l.reuse&2)&&(z.state==e.u||l.reuse&4))for(var h=0;h<z.L.length;h++){var n=
z.L[h];2==s&&(i=l.p);o.fillStyle=O(l.C,l.B*i);o.strokeStyle=O(l.F,l.D*i);if(0<n.q.length){o.beginPath();for(var m=0;m<n.q.length;m++)v=n.q[m],a=g.viewport*g.a*(g.d+(v.x-0.5)*e.width)+0.5*A,f=g.viewport*g.a*(g.e+(v.y-0.5)*e.height)+0.5*B,0==m?o.moveTo(a,f):o.lineTo(a,f);o.closePath();o.stroke();o.fill()}}}}}}}}function Ja(a,f){if(oa&&aa!=k&&ja&&ja.getContext){var b=ma(),i=a-b.x-A/2,i=i/g.a/g.viewport-g.d+e.width/2,b=f-b.y-B/2,b=b/g.a/g.viewport-g.e+e.height/2;d=ja.getContext("2d").getImageData(i,b,
1,1);J=d.data[2];Ka!=J&&(0<Ka&&c.skinObj&&c.skinObj.hotspotProxyOut&&c.skinObj.hotspotProxyOut(Ka),c.hotspot=0<J&&pa[J]?pa[J]:c.emptyHotspot,0<J&&c.skinObj&&c.skinObj.hotspotProxyOver&&c.skinObj.hotspotProxyOver(J),Ka=J)}}function nb(a,f,b,c,g,l){var K=e.l.length-1-c,h=e.ja,h=ua(h,"c",a%e.f+(f%e.k+b%e.v*e.k)*e.f),h=ua(h,"r",c),h=ua(h,"l",K),h=ua(h,"x",g),h=ua(h,"y",l);return La(h)}function ua(a,f,b){var c=RegExp("%0*"+f,"i").exec(a.toString());if(c){var c=c.toString(),e=b.toString();for(c.charAt(c.length-
1)!=f&&(e=(1+b).toString());e.length<c.length-1;)e="0"+e;a=a.replace(c,e)}return a}function ob(a,f,b){return La(e.path+"/img_"+b+"_"+f+"_"+a+"."+e.ba)}function Ma(a){fb&&(a=-a);e.y+=a;va()}function Na(a){eb&&(a=-a);e.x+=a;va()}function va(){if(Kb){for(;0>e.x;)e.x+=e.f;for(;e.x>=e.f;)e.x-=e.f}else 0>e.x&&(e.x=0),e.x>=e.f&&(e.x=e.f-1);if(Lb){for(;0>e.y;)e.y+=e.k;for(;e.y>=e.k;)e.y-=e.k}else 0>e.y&&(e.y=0),e.y>=e.k&&(e.y=e.k-1);e.state>=e.v&&(e.state=e.v-1);0>e.state&&(e.state=0);g.a=Math.max(g.min,
Math.min(g.max,g.a));pb&&(W=1.05<g.a);if(A>=g.viewport*g.a*e.width)g.d=0;else{var a=(e.width*g.viewport*g.a-A)/(2*g.a*g.viewport);g.d=Math.max(-a,g.d);g.d=Math.min(+a,g.d)}B>=g.viewport*g.a*e.height?g.e=0:(a=(e.height*g.viewport*g.a-B)/(2*g.a*g.viewport),g.e=Math.max(-a,g.e),g.e=Math.min(+a,g.e))}function Mb(){ca=0;wa||m()}function Nb(){ca=0;wa||m()}function Ob(a){if(!wa){a=a?a:window.event;ca=a.keyCode;if(0!=ca){switch(ca){case 37:W?g.d+=10/g.a:c.changePan(1,j);break;case 38:W?g.e+=10/g.a:c.changeTilt(1,
j);break;case 39:W?g.d+=-10/g.a:c.changePan(-1,j);break;case 40:W?g.e-=10/g.a:c.changeTilt(-1,j);break;case 43:case 107:case 187:c.changeFovLog(-1,j);break;case 109:case 45:case 189:c.changeFovLog(1,j)}c.b=j}m()}}function Pb(a){D||(Db=r,P(a.target)&&(a.preventDefault(),m(),qa&&qa.reset()))}function jc(a){D||(a.preventDefault(),1!=a.scale&&(Oa*=a.scale,c.setZoom(Oa*g.V),m()))}function kc(a){!D&&P(a.target)&&(a.preventDefault(),c.setZoom(event.scale*g.V),m())}function qb(a){Pa=j;Oa=1;D||(a.touches?
(c.o=a.touches.target,c.o==c.control&&(a.preventDefault(),m())):(a.preventDefault(),m()))}function lc(a){qa||(qa=new MSGesture,qa.target=c.i);qa.ma(a.sa)}function mc(a){D||(a.preventDefault(),p=-1)}function nc(a){if(!D){0<=p&&(a.preventDefault(),m());var f=(new Date).getTime(),b=-1,b=Math.abs(Qb-xa)+Math.abs(Rb-ya);if(0<=b&&20>b&&P(a.target)){var e=r;if(c.o)for(b=c.o;b&&b!=c.control;)b.onclick&&!e&&(b.onclick(),e=j),b=b.parentNode;if((b=lb(c.mouse.x,c.mouse.y))&&!e)Ib(b),e=j;oa&&!e&&Jb();e&&a.preventDefault();
b=Math.abs(Sb-xa)+Math.abs(Tb-ya);if(700>f-c.K&&0<=b&&20>b&&!e){c.o==c.control&&rb&&setTimeout(function(){c.toggleFullscreen()},10);if(c.o){b=c.o;for(e=r;b&&b!=c.control;)b.ondblclick&&!e&&(b.ondblclick(),e=j),b=b.parentNode;e&&a.preventDefault()}c.K=0}else c.K=f;Sb=xa;Tb=ya}if(c.o){b=c.o;for(e=r;b&&a!=c.control;){if(b.onmouseout)b.onmouseout();a.onmouseup&&!e&&(b.onmouseup(),e=j);b=b.parentNode}e&&a.preventDefault()}c.o=k;p=-1}}function oc(a){a||(a=window.event);var f=a.touches,b=ma();c.mouse.x=
f[0].pageX-b.x+E;c.mouse.y=f[0].pageY-b.y+F;if(!D){if(1==f.length&&f[0]&&(xa=f[0].pageX,ya=f[0].pageY,0<=p)){a.preventDefault();for(b=0;b<f.length;b++)if(f[b].identifier==p){var e=f[b].pageY;Qa=f[b].pageX;Ra=e;R=Qa;S=Ra;break}m();Ja(f[0].pageX,f[0].pageY)}2==f.length&&f[0]&&f[1]&&(p=-1,Pa||(g.ia=Math.sqrt((f[0].pageX-f[1].pageX)*(f[0].pageX-f[1].pageX)+(f[0].pageY-f[1].pageY)*(f[0].pageY-f[1].pageY)),c.setZoom(g.V/g.la*g.ia),a.preventDefault()))}}function pc(a){a||(a=window.event);var f=a.touches,
b=ma();c.mouse.x=f[0].pageX-b.x+E;c.mouse.y=f[0].pageY-b.y+F;if(!D){console.log("Touch start...");if(1==f.length&&0>p&&f[0]){Sa=(new Date).getTime();Qb=f[0].pageX;Rb=f[0].pageY;xa=f[0].pageX;ya=f[0].pageY;c.o=f[0].target;P(f[0].target)&&(a.preventDefault(),sb(f[0].pageX,f[0].pageY),p=f[0].identifier,m());if(c.o){b=c.o;for(flag=r;b&&!P(b);){if(b.onmouseover)b.onmouseover();b.onmousedown&&!flag&&(b.onmousedown(),flag=j);b=b.parentNode}flag&&a.preventDefault()}Ja(f[0].pageX,f[0].pageY)}1<f.length&&(p=
-1);!Pa&&2==f.length&&f[0]&&f[1]&&(g.la=Math.sqrt((f[0].pageX-f[1].pageX)*(f[0].pageX-f[1].pageX)+(f[0].pageY-f[1].pageY)*(f[0].pageY-f[1].pageY)),g.V=g.a)}}function za(a){if(!Ub&&(a=a?a:window.event,a=Ta(a),P(a.target))){var f=a.detail?-1*a.detail:a.wheelDelta/40;Vb&&(f=-f);0!=f&&(c.changeFovLog((0<f?1:-1)*Wb,j),c.b=j,a.preventDefault?a.preventDefault():a.returnValue=r,m())}}function Xb(a){if(!D&&(a=a?a:window.event,a=Ta(a),0<=p)){m();a.preventDefault?a.preventDefault():a.returnValue=r;p=-1;var f=
(new Date).getTime(),b=-1,b=Math.abs(bb-R)+Math.abs(cb-S);if(400>f-Sa&&0<=b&&20>b&&P(a.target)){var b=Math.abs(Yb-R)+Math.abs(Zb-S),e=lb(c.mouse.x,c.mouse.y);Yb=R;Zb=S;oa&&(Ja(a.pageX,a.pageY),Jb());e?Ib(e):700>f-c.K&&0<=b&&20>b?(rb&&setTimeout(function(){c.toggleFullscreen()},10),c.K=0):c.K=f}}}function Aa(a){var f=ma(),a=a?a:window.event,a=Ta(a);tb()?(c.mouse.x=a.pageX-E,c.mouse.y=a.pageY-F):(c.mouse.x=a.pageX-f.x+E,c.mouse.y=a.pageY-f.y+F);if(!D&&(0<=p&&(f=a.pageY,Qa=a.pageX,Ra=f,R=Qa,S=Ra,m(),
a.preventDefault?a.preventDefault():a.returnValue=r),oa&&P(a.target)?(Ja(a.pageX,a.pageY),0<J&&Ia(c.mouse.x-E,c.mouse.y-F)):J=0,0==J&&c.hotspot==c.emptyHotspot||"poly"==c.hotspot.hstype))f=c.emptyHotspot,P(a.target)&&(f=lb(c.mouse.x,c.mouse.y)),c.hotspot!=f&&(c.hotspot!=c.emptyHotspot&&(0<s&&(c.hotspot.t=0),c.skinObj&&c.skinObj.hotspotProxyOut&&c.skinObj.hotspotProxyOut(c.hotspot.id)),f?(c.hotspot=f,c.skinObj&&c.skinObj.hotspotProxyOver&&c.skinObj.hotspotProxyOver(c.hotspot.id),N.style.cursor="pointer",
0<s&&($=1,c.hotspot.t=1,c.b=j)):(c.hotspot=c.emptyHotspot,N.style.cursor="auto",0<s&&($=0,c.b=j))),Ia(c.mouse.x-E,c.mouse.y-F)}function Ia(a,f){var b=Ba;b.enabled&&(c.hotspot!=c.emptyHotspot&&0<=a&&0<=f&&""!=c.hotspot.title?(h.innerHTML=c.hotspot.title,h.style.color=O(b.Y,b.X),h.style.backgroundColor=b.background?O(b.C,b.B):"transparent",h.style.border="solid "+O(b.F,b.D)+" "+b.Q+"px",h.style.borderRadius=b.P+"px",h.style.textAlign="center",0<b.width?(h.style.left=a-b.width/2+"px",h.style.width=b.width+
"px"):(h.style.width="auto",h.style.left=a-h.offsetWidth/2+"px"),h.style.height=0<b.height?b.height+"px":"auto",h.style.top=f+25+"px",h.style.visibility="inherit",h.style.overflow="hidden"):(h.style.visibility="hidden",h.innerHTML=""))}function qc(a){if(u)u.onclick();D||(a=a?a:window.event,a.preventDefault?a.preventDefault():a.returnValue=r,sb(a.screenX,a.screenY),p=1,Sa=(new Date).getTime(),m())}function Ua(a){if(u)u.onclick();if(!D&&(a=a?a:window.event,a=Ta(a),(!a.which||0==a.which||1==a.which)&&
P(a.target)))sb(a.pageX,a.pageY),p=1,Sa=(new Date).getTime(),m(),a.preventDefault?a.preventDefault():a.returnValue=r}function Ta(a){a.pageX==k&&a.clientX!=k&&(a.pageX=a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a.pageY=a.clientY+document.body.scrollTop+document.documentElement.scrollTop);return a}function P(a){return a==n||a==G||a==q||a==Q||a==c.control||a==c.i||a.ggType&&"container"==a.ggType?j:r}function m(){Z&&(Z=r,e.g=0,e.m=0);na&&(na=r,e.g=0,e.m=0);jb=(new Date).getTime()}
function db(a,f){c.getFov();if(W)g.d+=a/(g.a*g.viewport),g.e+=f/(g.a*g.viewport);else{var b=-a/20;T?Ma(b):Na(b);b=-f/20;T?Na(b):Ma(b)}va()}function sb(a,f){bb=a;cb=f;R=a;S=f;Fa=a;Ga=f}function $b(){switch(g.fa){case 1:g.viewport=Math.min(A/e.width,B/e.height);break;case 2:g.viewport=Math.max(A/e.width,B/e.height);break;case 3:g.viewport=A/e.width;break;case 4:g.viewport=B/e.height;break;default:g.viewport=1}var a,f;a=g.viewport*g.a*(g.d-e.width/2)+A/2;f=g.viewport*g.a*(g.e-e.height/2)+B/2;var b,i;
a=Math.round(a);f=Math.round(f);b=Math.round(e.width*g.viewport*g.a);i=Math.round(e.height*g.viewport*g.a);if(X){if(ta=r,0<=e.r&&0<=e.s){if((b<A||i<B)&&g.J>g.a)L.clear?L.clear():L.clearRect(0,0,q.width,q.height),L!=ka&&1<e.v&&ub&&(ub=r,ka.clear?ka.clear():ka.clearRect(0,0,q.width,q.height));if(0<e.l.length){var C=0,l,h,z;for(pwb=b*Math.sqrt(window.devicePixelRatio||1);e.l.length>=C+2&&e.l[C+1].width>pwb;)C++;for(var m=C,p=r;!p;){p=j;l=e.l[m];var o=-a/b*(l.width/e.n);h=-f/i*(l.height/e.n);var s=(-a+
A)/b*(l.width/e.n),t=(-f+B)/i*(l.height/e.n),o=Math.min(Math.max(0,Math.floor(o)),l.z-1);h=Math.min(Math.max(0,Math.floor(h)),l.O-1);s=Math.min(Math.max(0,Math.floor(s)),l.z-1);t=Math.min(Math.max(0,Math.floor(t)),l.O-1);for(z=h;z<=t;z++)for(h=o;h<=s;h++){var u=h+z*l.z,x=l.A[u];!x||!x.j?p=r:x.j.complete||(p=r)}p||(m+1<e.l.length?m++:p=j)}for(;m>=C;){l=e.l[m];o=-a/b*(l.width/e.n);h=-f/i*(l.height/e.n);s=(-a+A)/b*(l.width/e.n);t=(-f+B)/i*(l.height/e.n);o=Math.min(Math.max(0,Math.floor(o)),l.z-1);h=
Math.min(Math.max(0,Math.floor(h)),l.O-1);s=Math.min(Math.max(0,Math.floor(s)),l.z-1);t=Math.min(Math.max(0,Math.floor(t)),l.O-1);for(z=h;z<=t;z++)for(h=o;h<=s;h++)u=h+z*l.z,(x=l.A[u])||(x=l.A[u]={}),!x.j&&5>ba&&(x.j=new Image,x.j.setAttribute("src",nb(e.r,e.s,e.u,m,h,z)),x.j.onload=rc,x.j.onerror=ac,x.j.onabort=ac,0==ba&&c.divSkin&&c.divSkin.ggReLoadedLevels&&c.divSkin.ggReLoadedLevels(),ba++),x.j&&x.j.complete&&(L.drawImage(x.j,a+(-e.da+e.n*h)*b/l.width,f+(-e.da+e.n*z)*i/l.height,x.j.width*b/l.width,
x.j.height*i/l.height),ta=j);m--}g.J=g.a;g.T=g.d;g.U=g.e}else""!=n.src&&n.complete?(L.clear?L.clear():L.clearRect(0,0,q.width,q.height),L.drawImage(n,a,f,b,i),g.J=g.a,g.T=g.d,g.U=g.e,ta=j):c.b=j;if(ta)for(a=0;a<y.length;a++)if(f=y[a],"point"==f.hstype){C=r;for(l=i=b=0;l<f.locations.length;l++)m=f.locations[l],m.column==e.r&&m.row==e.s&&m.state==e.u&&(C=j,b=g.viewport*g.a*(g.d+m.x*e.width-e.width/2)+A/2,i=g.viewport*g.a*(g.e+m.y*e.height-e.height/2)+B/2);f.obj&&f.obj.__div&&(f.obj.__div.style[Ca]=
"none",C?(f.obj.__div.style.left=E+b+"px",f.obj.__div.style.top=F+i+"px",f.obj.__div.style.visibility="visible"):(f.obj.__div.style.left="-100px",f.obj.__div.style.top="-100px",f.obj.__div.style.visibility="hidden"))}}}else n.setAttribute("width",e.width),n.setAttribute("height",e.height),G.setAttribute("width",e.width),G.setAttribute("height",e.height),n.style.left=a+"px",n.style.top=f+"px",n.style.width=b+"px",n.style.height=i+"px",G.style.left=a+"px",G.style.top=f+"px",G.style.width=b+"px",G.style.height=
i+"px",g.J=g.a,g.T=g.d,g.U=g.e}function ac(){ba&&ba--;0==ba&&c.divSkin&&c.divSkin.ggLoadedLevels&&c.divSkin.ggLoadedLevels()}function rc(){c.b=j;c.G=j;ba&&ba--;0==ba&&c.divSkin&&c.divSkin.ggLoadedLevels&&c.divSkin.ggLoadedLevels()}function ma(){var a={x:0,y:0},f=t;if(f.offsetParent){do a.x+=f.offsetLeft,a.y+=f.offsetTop;while(f=f.offsetParent)}return a}function Va(){c.isFullscreen&&(tb()||c.exitFullscreen(),tb()&&(c.c.style.left="0px",c.c.style.top="0px"))}function tb(){return document.webkitIsFullScreen||
document.mozFullScreen||document.msFullscreenElement&&document.msFullscreenElement!=k||document.fullScreen}function ra(){c.setViewerSize(c.I.offsetWidth,c.I.offsetHeight)}function La(a){return"/"==a.charAt(0)||0<a.indexOf("://")?a:vb+a}function bc(a){a=Number(a).toString(16);return a="#000000".substr(0,7-a.length)+a}function O(a,f){a=Number(a);return Wa&&8>=Wa?bc(a):"rgba("+(a>>16&255)+","+(a>>8&255)+","+(a&255)+","+f+")"}var Ba,s,M,$,wb,xb,yb,zb,mb;function sc(a,f){var b=this;b.ka=a;b.hotspot=f;
b.__div=document.createElement("div");b.j=document.createElement("img");var c;b.j.setAttribute("src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA5xJREFUeNqclmlIVFEUx997TjrplFQW2WKBBSYtRFlpWUILSSsRZRQIBdGHCFqIoKIvQRsUFRJC9LEgaSFbMMpcWi1pLzOLsjItKms0U5t5/c/wH7nc5o2jF374xrv87z33nHOPaRsRtbFgDpgJxoD+wATfwDNQDK6CyrCr5OcbhgiGIRsUAZt4QTWoIFXgp9JfAhY7rgdBl8NeBoLDYBloA+dBOagFTcDHcVEgDgwBGWA+OAcugvXgvb5wKMGJoAAMp9BpUA96EBf/Btsf8BI8AWfAErAcpHHDZeriliY2AVwDg8AucAQ0Ag+I4XhTm2Oxz8PT46KMbTx5EZjuJDgAnAVusJUm9DhYwalFcc59sIXXIaceFkowDySBPTRPL20xm+b7zYXa+N3CPrWJ6GuwGySA40HLBHc/GywFhbS5R1lEBrZy7FQwiSaX9pmnqeAYt+KUcew7BVZw/QKTq0ocpYPVvDOXItZCk2xgDIZqL8BR8Ab0VDbr4yZOgLeIwzQx6WiQxcCt1+6sld66L4yYtFSwF4yg2dU7/cEwGW9YVkAwmycp1dzdpvgm0DcCh4kHmxWzBls0uBX4qqmZJ4KzePm1IeJLgjmlC16aDKZpp5Q168B3o6wsSwTHgU+MIUs74RSj6y1d+212HKimJlUE+tFRfJpYtOKNXWmJTASqWf2Bu/R6+4TKHOrOzG4IhptjWgHbGkZvepQ6SQK7oRuCXzjX1DJavBEX1ygfT8FgBqpfm1zRDcEKbR2bsZlkJCdXieB1ZhZ5YtqVgXIPN+m9kbY6hpdb+d9fPncJRmZmqQheZkemJmgxyxykl3XWJEkcAl7N21s7PDcl5ZJ0PAa3wVwmWtVbZafPwQ7wLozYB7ATPNJO56d/LAikP9u+66KNJS1d4IOZp7wU0hfLukUyzgwm70T2N/DOxIy/eFdqawa5DL2NEGwP5k15Ja4woz9glvcomd9NzyvkFcQo5gomaLfm5c0svnKZ2k7q7+FauvR2MJKZR3+sY5WgtvkdG6JyELGhNHMTXyGfLviRJ5Tcd4Dlhle7086Sgp8CqVxDkn4OqHaqacr5ekjy3Q/W0FRNNGmoMtamdzdxsytZC0lqXKhEgWPVVgImg2NgFT1MHOoOk3yLEtgWN5TEOYvoIFI1rGM19//2wpAD7imF7lfwENwAxaASNCj90pcLLKdC2Iyw1M9gnEplMEp5kOU1f8WwKGJm8oUr9f8JMAAVMDM6HSDa9QAAAABJRU5ErkJggg%3D%3D");
b.j.setAttribute("style","position: absolute;top: -14px;left: -14px;");b.__div.appendChild(b.j);c="position:absolute;"+(H+"user-select: none;");b.__div.setAttribute("style",c);b.__div.onclick=function(){b.ka.openUrl(f.url,f.target)};var e=Ba;e.enabled&&(b.text=document.createElement("div"),c="position:absolute;"+("left: -"+e.width/2+"px;"),c=c+"top:\t 20px;"+("width: "+e.width+"px;"),c=0==f.h?c+"height: auto;":c+("height: "+e.height+"px;"),f.wordwrap?c=c+"white-space: pre-wrap;"+("width: "+e.width+
"px;"):(c=0==e.height?c+"width: auto;":c+("width: "+e.width+"px;"),c+="white-space: nowrap;"),c+=H+"transform-origin: 50% 50%;",b.text.setAttribute("style",c+"visibility: hidden;border: 1px solid #000000;background-color: #ffffff;text-align: center;overflow: hidden;padding: 0px 1px 0px 1px;"),b.text.style.color=O(e.Y,e.X),b.text.style.backgroundColor=e.background?O(e.C,e.B):"transparent",b.text.style.border="solid "+O(e.F,e.D)+" "+e.Q+"px",b.text.style.borderRadius=e.P+"px",b.text.style.textAlign=
"center",b.text.style.width=0<e.width?e.width+"px":"auto",b.text.style.height=0<e.height?e.height+"px":"auto",b.text.style.overflow="hidden",b.text.innerHTML=f.title,b.__div.onmouseover=function(){0==e.height&&(w=b.text.offsetWidth,b.text.style.left=-w/2+"px");b.text.style.visibility="inherit"},b.__div.onmouseout=function(){b.text.style.visibility="hidden"},b.__div.appendChild(b.text))}function hc(a){var c="",b,e,g="",h,m="",n=0,a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");do b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(n++)),
e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(n++)),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(n++)),m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(a.charAt(n++)),b=b<<2|e>>4,e=(e&15)<<4|h>>2,g=(h&3)<<6|m,c+=String.fromCharCode(b),64!=h&&(c+=String.fromCharCode(e)),64!=m&&(c+=String.fromCharCode(g));while(n<a.length);return c}var c=this;c.transitionsDisabled=r;var I=0,A=320,B=480,g=
{a:1,S:1,min:1,max:1,J:-1,na:0,d:0,e:0,T:0,U:0,viewport:1,fa:1},bb=0,cb=0,R=0,S=0,Yb=0,Zb=0,Qa=0,Ra=0,p=-1,Qb=0,Rb=0,xa=0,ya=0,Sb=0,Tb=0,Sa,gb=j,Fa=0,Ga=0,U=0,V=0,Db=r,oa=r,J=0,Ka=0,pa,da;pa=[];var y=[];c.emptyHotspot={pan:0,tilt:0,title:"",url:"",target:"",id:"",skinid:"",w:100,h:20,wordwrap:r,obj:k};c.hotspot=c.emptyHotspot;c.mouse={x:0,y:0};var ca=0,t=k,N=k,n=k,G=k,ea=k,q=k,Q=k,X=k,ka=k,L=k,aa=k,ja=k,h=k;c.control=k;c.checkLoaded=[];c.isFullscreen=r;c.divSkin=k;c.isLoaded=r;c.hasConfig=r;var hb=
0,Eb=r,ia=r,Ha=5,Z=r,ha=0.4,kb=r,na=r,sa=0.1,fa=0,ga=0,Y=0,ib,Fb,Gb,jb;c.skinObj=k;c.b=r;var ub=c.G=r;c.userdata={title:"",description:"",author:"",datetime:"",copyright:"",source:"",information:"",comment:""};var E=0,F=0,Ya=0,Za=0,ab=3,wa=r,D=r,Ub=r,pb=j,W=r,Vb=r,Wb=1,rb=j,Kb=r,Lb=r,eb=r,fb=r,T=r,la=10,e={x:0,y:0,g:0,m:0,width:100,height:100,state:0,r:-1,s:-1,u:-1,f:1,k:1,v:1,M:0,N:0,W:0,path:"images/",ba:"jpg",n:512,ra:1,ea:0};e.ca=function(){return e.r%e.f+(e.s%e.f+e.u%e.v*e.k)*e.f};var cc=j,dc=
0,H="",Ca="transition",Pa=r,vb="";s=1;M=0;$=0;wb=255;xb=1;yb=255;zb=0.3;Ba={enabled:j,width:180,height:20,Y:0,X:1,background:j,C:16777215,B:1,F:0,D:1,P:3,Q:1,wordwrap:j};mb=void 0;var ec=navigator.userAgent.toLowerCase(),Wa=-1!=ec.indexOf("msie")?parseInt(ec.split("msie")[1]):r,tc=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?j:r,Bb=r,Cb=function(){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;
return tc||!a?function(a){window.setTimeout(a,10)}:a}();c.detectBrowser=function(){var a=["Webkit","Moz","O","ms","Ms"],c;H="";Ca="transition";for(c=0;c<a.length;c++)"undefined"!==typeof document.documentElement.style[a[c]+"Transform"]&&(H="-"+a[c].toLowerCase()+"-",Ca=a[c]+"Transition")};c.setBasePath=function(a){vb=a};c.getPercentLoaded=function(){return hb};var fc=j;c.setViewerSize=function(a,e){if(c.isFullscreen)if("number"==typeof window.innerWidth)a=window.innerWidth,e=window.innerHeight;else if(document.documentElement&&
(document.documentElement.clientWidth||document.documentElement.clientHeight))a=document.documentElement.clientWidth,e=document.documentElement.clientHeight;else if(document.body&&(document.body.clientWidth||document.body.clientHeight))a=document.body.clientWidth,e=document.body.clientHeight;var b=a-E-Ya,g=e-F-Za;A=b;B=g;t.style.width=b+"px";t.style.height=g+"px";t.style.left=E+"px";t.style.top=F+"px";$b();N.style.width=a+"px";N.style.height=e+"px";c.i.style.width=a+"px";c.i.style.height=e+"px";c.i.width=
a;c.i.height=e;c.i.style.left=E+"px";c.i.style.top=F+"px";q.style.width=a+"px";q.style.height=e+"px";Q.style.width=a+"px";Q.style.height=e+"px";if(fc){if(!X)try{ka=Q.getContext("2d"),L=X=q.getContext("2d")}catch(h){}try{X?(t.removeChild(G),t.removeChild(n)):(t.removeChild(q),t.removeChild(Q))}catch(l){}fc=r}if(X&&(b=window.devicePixelRatio||1,q.width!=Math.round(a*b)||q.height!=Math.round(e*b)))q.width=Math.round(a*b),q.height=Math.round(e*b),Q.width=Math.round(a*b),Q.height=Math.round(e*b),X.scale(b,
b),ka.scale(b,b),c.b=j,c.G=j;c.b=j;c.divSkin&&c.divSkin.ggUpdateSize&&c.divSkin.ggUpdateSize(a,e)};var ba=0,ta=r;c.setMargins=function(a,c,b,e){E=a;F=c;Ya=b;Za=e;ra()};c.changeViewMode=function(a){0==a&&(W=r);1==a&&(W=j);2==a&&(W=W?r:j);pb=3==a};c.changePolygonMode=function(a,e){s=1==e&&0<s?0:Math.round(a);c.b=j};c.polygonMode=function(){return s};c.getPan=function(){return T?e.y:e.x};c.getPanN=function(){return c.getPan()};c.getPanNorth=function(){return c.getPan()};c.showObjectImage=function(a,
f){e.x=a;e.y=f;va();c.b=j};c.setPan=function(a){m();isNaN(a)||(T?e.y=Number(a):e.x=Number(a));c.b=j};c.changePan=function(a){m();isNaN(a)||(T?Ma(a):Na(a));c.b=j};c.getTilt=function(){return T?e.x:e.y};c.setTilt=function(a){m();isNaN(a)||(T?e.x=Number(a):e.y=Number(a));c.b=j};c.changeTilt=function(a){m();isNaN(a)||(T?Na(a):Ma(a));c.b=j};c.changePanLog=function(a,e){c.changePan(a,e)};c.changeTiltLog=function(a,e){c.changeTilt(a,e)};c.getFov=function(){return 100*g.a};c.setZoom=function(a){isNaN(a)||
(g.a=a<g.min?g.min:a>g.max?g.max:a);c.b=j};c.setFov=function(a){m();c.setZoom(a/100)};c.changeFov=function(a){c.setFov(c.getFov()-10*a)};c.changeFovLog=function(a){c.setFov(c.getFov()*Math.exp(-a/50))};c.getX=function(){return e.r};c.getY=function(){return e.s};c.getState=function(){return e.u};c.setCenter=function(a,f){g.d=(0.5-a)*e.width;g.e=(0.5-f)*e.height;c.b=j};c.getCenter=function(){var a={};a.x=0.5-g.d/e.width;a.y=0.5-g.e/e.height;return a};c.setPanTilt=function(a,e){m();isNaN(a)||c.setPan(a);
isNaN(e)||c.setTilt(e);c.b=j};c.setPanTiltFov=function(a,e,b){m();isNaN(a)||c.setPan(a);isNaN(e)||c.setTilt(e);!isNaN(b)&&0<b&&c.setFov(b);c.b=j};c.setDefaultView=function(){e.x=e.oa;e.y=e.pa;c.changeViewState(e.W);g.a=g.S};c.moveTo=function(a,c,b,i,h,l){m();na=j;var n=a.toString().split("/");1<n.length&&(a=Number(n[0]),i=c,c=Number(n[1]),2<n.length&&(b=Number(n[2])));fa=isNaN(a)?e.x:Number(a);ga=isNaN(c)?e.y:Number(c);ib=!isNaN(b)&&0<b?Number(b):100*g.a;sa=!isNaN(i)&&0<i?Number(i):1;h&&!isNaN(h)&&
l&&!isNaN(l)?(Fb=Number(h),Gb=Number(l),Y=Math.ceil(20/sa),0>=Y&&(Y=1)):Y=0};c.moveToDefaultView=function(a){c.moveTo(e.M,e.N,100*g.S,a)};var qa,Oa=1,qb=function(a){Pa=j;!D&&P(a.target)&&(a.preventDefault(),g.V=g.a,m())};c.changeViewState=function(a,f){m();if(e.state!=a){e.state=a;if(0<f){var b=1/(20*f);X?(Q.style.visibility="inherit",q.style[Ca]="opacity "+b+"s linear",L==X?(q.style.opacity="0.0",L=ka):(q.style.opacity="1.0",L=X,ub=j)):(G.style.visibility="inherit",n.style[Ca]="opacity "+b+"s linear",
ea==n?(n.style.opacity="0.0",ea=G):(n.style.opacity="1.0",ea=n));c.updateObject()}c.b=j}};c.updateObject=function(){va();var a=Math.floor(e.x),f=Math.floor(e.y),b=e.state,i=r;if(e.r!=a||e.s!=f||e.u!=b){if(0<e.l.length)for(i=0;i<e.l.length;i++){var h=e.l[i];h.R?h.aa[e.ca()]=h.A:h.A=[]}e.r=a;e.s=f;e.u=b;if(0<e.l.length&&X)for(i=0;i<e.l.length;i++)h=e.l[i],h.R&&(h.A=h.aa[e.ca()],h.A||(h.A=[]));else 0<e.l.length?ea.setAttribute("src",nb(a,f,b,e.l.length-1,0,0)):ea.setAttribute("src",ob(a,f,b)),ea.onload=
function(){c.b=j;c.G=j},ea.qa=r;i=j}if(i||c.G||g.a!=g.J||g.d!=g.T||g.e!=g.U)$b(),c.G=r;i&&oa&&(aa==k&&(aa=new Image,ja=document.createElement("canvas"),ja.width=e.width,ja.height=e.height,aa.addEventListener&&aa.addEventListener("load",function(){ja.getContext("2d").drawImage(aa,0,0,e.width,e.height)},r)),8<=da?(da&16&&(a=0),da&32&&(f=0),da&64&&(b=0)):(0<da&&(b=0),1<da&&(a=0),2<da&&(f=0)),aa&&aa.src!=La(e.path+"/hs_"+b+"_"+f+"_"+a+".png")&&(aa.src=La(e.path+"/hs_"+b+"_"+f+"_"+a+".png")))};c.preloadImages=
function(){var a,f,b,g;if(0<e.l.length)for(g=0;g<e.l.length;g++){var h=e.l[g];if(h.R)for(b=0;b<e.v;b++)for(f=0;f<e.k;f++)for(a=0;a<e.f;a++){var l=[],m,n;for(n=0;n<h.O;n++)for(m=0;m<h.z;m++){var p=m+n*h.z,o;o={};o.j=new Image;o.j.setAttribute("src",nb(a,f,b,g,m,n));o.j.onload=function(){c.b=j;c.G=j};l[p]=o;c.checkLoaded.push(o.j)}h.aa[a+e.f*(f+b*e.k)]=l}}else if(e.ea){g=new Image;g.src=ob(e.M,e.N,e.W);for(b=0;b<e.v;b++)for(f=0;f<e.k;f++)for(a=0;a<e.f;a++)g=new Image,g.src=ob(a,f,b),c.checkLoaded.push(g)}};
var o,Ia=function(a,e){var b=Ba;b.enabled&&(c.hotspot!=c.emptyHotspot&&0<=a&&0<=e&&""!=c.hotspot.title?(h.innerHTML=c.hotspot.title,h.style.color=O(b.Y,b.X),h.style.backgroundColor=b.background?O(b.C,b.B):"transparent",h.style.border="solid "+O(b.F,b.D)+" "+b.Q+"px",h.style.borderRadius=b.P+"px",h.style.textAlign="center",0<b.width?(h.style.left=a-b.width/2+"px",h.style.width=b.width+"px"):(h.style.width="auto",h.style.left=a-h.offsetWidth/2+"px"),h.style.height=0<b.height?b.height+"px":"auto",h.style.top=
e+25+"px",h.style.visibility="inherit",h.style.overflow="hidden"):(h.style.visibility="hidden",h.innerHTML=""))};c.ha=function(){for(var a=0;a<y.length;a++)if("point"==y[a].hstype&&(y[a].obj=c.skinObj&&c.skinObj.addSkinHotspot?new c.skinObj.addSkinHotspot(y[a]):new sc(this,y[a]),y[a].obj&&y[a].obj.__div)){var e=N.firstChild;e?N.insertBefore(y[a].obj.__div,e):N.appendChild(y[a].obj.__div)}};var $a=0;c.assignHandler=function(){var a;a=N;c.control=a;Ab();setTimeout(function(){Ea()},10);setTimeout(function(){Hb()},
200);setTimeout(function(){ra();c.updateObject()},10);a.addEventListener?(a.addEventListener("touchstart",pc,r),a.addEventListener("touchmove",oc,r),a.addEventListener("touchend",nc,r),a.addEventListener("touchcancel",mc,r),c.i.addEventListener("MSPointerDown",lc,r),c.i.addEventListener("MSGestureStart",qb,r),c.i.addEventListener("MSGestureEnd",Pb,r),c.i.addEventListener("MSGestureChange",jc,r),a.addEventListener("gesturestart",qb,r),a.addEventListener("gesturechange",kc,r),a.addEventListener("gestureend",
Pb,r),a.addEventListener("mousedown",Ua,r),a.addEventListener("mousemove",Aa,r),n.addEventListener("mousedown",Ua,r),n.addEventListener("mousemove",Aa,r),document.addEventListener("mouseup",Xb,r),Wa&&(c.i.addEventListener("mousedown",Ua,r),c.i.addEventListener("mousemove",Aa,r),q.addEventListener("mousedown",Ua,r),q.addEventListener("mousemove",Aa,r)),Wa?(n.addEventListener("mousewheel",za,r),q.addEventListener("mousewheel",za,r)):(a.addEventListener("mousewheel",za,r),a.addEventListener("DOMMouseScroll",
za,r)),document.addEventListener("keydown",Ob,r),document.addEventListener("keyup",Nb,r),window.addEventListener("orientationchange",Ab,r),window.addEventListener("resize",ra,r),window.addEventListener("blur",Mb,r),c.c.addEventListener("webkitfullscreenchange",Va,r),document.addEventListener("mozfullscreenchange",Va,r),window.addEventListener("webkitfullscreenchange",Va,r),document.addEventListener("MSFullscreenChange",Va,r)):a.attachEvent&&(n.attachEvent("onmousedown",qc),n.attachEvent("onmousemove",
Aa),document.attachEvent("onmouseup",Xb),a.attachEvent("onmousedblclick",c.toggleFullscreen),a.onmousewheel=document.onmousewheel=za,document.attachEvent("onkeydown",Ob),document.attachEvent("onkeyup",Nb),window.attachEvent("onresize",ra),window.attachEvent("onblur",Mb));a.oncontextmenu=function(a){void 0===a&&(a=window.event);return!a.ctrlKey&&(a="<<L>>","U"!=a.charAt(2))?(gc(),r):j}};c.setFullscreen=function(a){c.isFullscreen!=a&&(c.isFullscreen=a,c.b=j,c.G=j);if(c.isFullscreen){try{c.c.webkitRequestFullScreen?
c.c.webkitRequestFullScreen():c.c.mozRequestFullScreen?c.c.mozRequestFullScreen():c.c.msRequestFullscreen?c.c.msRequestFullscreen():c.c.requestFullScreen?c.c.requestFullScreen():c.c.requestFullscreen&&c.c.requestFullscreen()}catch(e){}c.c.style.position="absolute";var a=ma(),b=0,g=0;if("number"==typeof window.pageYOffset)g=window.pageYOffset,b=window.pageXOffset;else if(document.body&&(document.body.scrollLeft||document.body.scrollTop))g=document.body.scrollTop,b=document.body.scrollLeft;else if(document.documentElement&&
(document.documentElement.scrollLeft||document.documentElement.scrollTop))g=document.documentElement.scrollTop,b=document.documentElement.scrollLeft;c.c.style.left=Math.round(b-a.x+E)+"px";c.c.style.top=Math.round(g-a.y+F)+"px";document.body.style.overflow="hidden";c.divSkin&&c.divSkin.ggEnterFullscreen&&c.divSkin.ggEnterFullscreen()}else{try{document.webkitIsFullScreen?document.webkitCancelFullScreen():document.mozFullScreen?document.mozCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():
document.fullScreen&&(document.cancelFullScreen?document.cancelFullScreen():document.exitFullscreen&&document.exitFullscreen())}catch(h){}c.c.style.position="relative";c.c.style.left="0px";c.c.style.top="0px";document.body.style.overflow="";c.divSkin&&c.divSkin.ggExitFullscreen&&c.divSkin.ggExitFullscreen()}ra()};c.toggleFullscreen=function(){c.setFullscreen(!c.isFullscreen)};c.exitFullscreen=function(){c.setFullscreen(r)};c.startAutorotate=function(a,c,b){Z=ia=j;a&&0!=a&&(ha=a);c&&(Ha=c);b&&(kb=
1==b)};c.stopAutorotate=function(){ia=Z=r};c.toggleAutorotate=function(){Z=ia=!Z};var u;c.createLayers=function(a){var e;c.I=document.getElementById(a);c.I?(c.I.innerHTML="",e="max-width: none !important;max-height: none !important;min-width: none !important;min-height: none !important;padding 0px !important;margin 0px !important;",c.c=document.createElement("div"),c.c.setAttribute("style","top:\t0px;left: 0px;-ms-touch-action: none;position:relative;"+e),c.I.appendChild(c.c),t=document.createElement("div"),
a="top:\t0px;left: 0px;overflow: hidden;position:absolute;"+(H+"user-select: none;"),t.setAttribute("style",a+e),c.c.appendChild(t),G=document.createElement("img"),G.setAttribute("galleryimg","false"),a="top:\t0px;left: 0px;position:absolute;visibility: hidden;"+(H+"user-select: none;"),G.setAttribute("style",a+e),t.appendChild(G),n=document.createElement("img"),n.setAttribute("galleryimg","false"),a="top:\t0px;left: 0px;position:absolute;"+(H+"user-select: none;"),n.setAttribute("style",a+e),t.appendChild(n),
ea=n,Q=document.createElement("canvas"),a="top:\t0px;left: 0px;width:  100px;height: 100px;visibility: hidden;position:absolute;"+(H+"user-select: none;"),Q.setAttribute("style",a+e),t.appendChild(Q),q=document.createElement("canvas"),a="top:\t0px;left: 0px;width:  100px;height: 100px;position:absolute;"+(H+"user-select: none;"),q.setAttribute("style",a+e),t.appendChild(q),h=document.createElement("div"),h.setAttribute("style","top:\t0px;left: 0px;position:absolute;padding: 3px;visibility: hidden;z-index: 1100;"),
h.innerHTML=" Hotspot text!",t.appendChild(h),N=document.createElement("div"),a="top:\t0px;left: 0px;width:  100px;height: 100px;overflow: hidden;position:absolute;z-index: 1000;"+(H+"user-select: none;"),N.setAttribute("style",a+e),c.c.appendChild(N),c.i=document.createElement("canvas"),a="top:\t0px;left: 0px;width:  100px;height: 100px;overflow: hidden;position:absolute;z-index: 900;"+(H+"user-select: none;"),c.i.setAttribute("style",a+e),c.c.appendChild(c.i),c.divSkin=N):alert("container not found!")};
c.readConfigString=function(a){window.DOMParser?(parser=new DOMParser,xmlDoc=parser.parseFromString(a,"text/xml")):(xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),xmlDoc.async="false",xmlDoc.loadXML(a));c.readConfigXml(xmlDoc)};c.readConfigUrl=function(a){try{var e;e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");e.open("GET",a,r);e.send(k);var b=e.responseXML;if(b){var g=a.lastIndexOf("/");0<=g&&(vb=a.substr(0,g+1));c.readConfigXml(b)}else alert("Error loading XML")}catch(h){alert("Error XML:"+
h)}};var Xa=j;c.readConfigXml=function(a){var f=a.firstChild,a=f.firstChild;a==k&&(a=f.nextSibling.firstChild);for(var b;a;){if("view"==a.nodeName)for(f=a.firstChild;f;){"start"==f.nodeName&&(b=f.getAttributeNode("column"),e.M=Number(b?b.nodeValue:0),e.x=e.M,b=f.getAttributeNode("row"),e.N=Number(b?b.nodeValue:0),e.y=e.N,b=f.getAttributeNode("state"),e.W=Number(b?b.nodeValue:0),e.state=e.W);"zoom"==f.nodeName&&(b=f.getAttributeNode("min"),g.min=1*(b?b.nodeValue:1),b=f.getAttributeNode("default"),
g.S=1*(b?b.nodeValue:1),g.a=g.S,b=f.getAttributeNode("max"),g.max=1*(b?b.nodeValue:1),b=f.getAttributeNode("centerx"),g.d=1*(b?b.nodeValue:0),b=f.getAttributeNode("centery"),g.e=1*(b?b.nodeValue:0));if("viewer"==f.nodeName&&((b=f.getAttributeNode("background"))&&(cc=1==b.nodeValue),(b=f.getAttributeNode("backgroundcolor"))&&(dc=1*b.nodeValue),b=f.getAttributeNode("imagescaling")))g.fa=1*b.nodeValue;f=f.nextSibling}if("autorotate"==a.nodeName&&(Xa&&(ia=r),(b=a.getAttributeNode("start"))&&(ia=1==b.nodeValue),
(b=a.getAttributeNode("pingpong"))&&(kb=1==b.nodeValue),(b=a.getAttributeNode("speed"))&&(ha=1*b.nodeValue),(b=a.getAttributeNode("delay"))&&(Ha=1*b.nodeValue),Z=ia,(b=a.getAttributeNode("onlyonce"))&&0<b.nodeValue))f=e.M,f=0<ha?f+(b.nodeValue*e.f+0.5):f-(b.nodeValue*e.f+0.5),c.moveTo(f,e.N,0,Math.abs(ha));if("input"==a.nodeName){if(b=a.getAttributeNode("columns"))e.f=1*b.nodeValue;if(b=a.getAttributeNode("rows"))e.k=1*b.nodeValue;if(b=a.getAttributeNode("states"))e.v=1*b.nodeValue;if(b=a.getAttributeNode("width"))e.width=
1*b.nodeValue;if(b=a.getAttributeNode("height"))e.height=1*b.nodeValue;if(b=a.getAttributeNode("fileextension"))e.ba=b.nodeValue;if(b=a.getAttributeNode("imagepath"))e.path=b.nodeValue;if(b=a.getAttributeNode("leveltileurl"))e.ja=b.nodeValue;if(b=a.getAttributeNode("leveltilesize"))e.n=Number(b.nodeValue);if(b=a.getAttributeNode("overlap"))e.da=b.nodeValue;if(b=a.getAttributeNode("preload"))e.ea=1==b.nodeValue;e.l=[];for(f=a.firstChild;f;){if("level"==f.nodeName){var i={};b=f.getAttributeNode("width");
i.width=1*(b?b.nodeValue:1);b=f.getAttributeNode("height");i.height=1*(b?b.nodeValue:1);b=f.getAttributeNode("preload");i.R=r;b&&(i.R=1==b.nodeValue);i.z=Math.floor((i.width+e.n-1)/e.n);i.O=Math.floor((i.height+e.n-1)/e.n);i.A=[];i.aa=[];e.l.push(i)}f=f.nextSibling}}"control"==a.nodeName&&Xa&&((b=a.getAttributeNode("simulatemass"))&&(gb=1==b.nodeValue),(b=a.getAttributeNode("locked"))&&(D=1==b.nodeValue),b&&(wa=1==b.nodeValue),(b=a.getAttributeNode("lockedmouse"))&&(D=1==b.nodeValue),(b=a.getAttributeNode("lockedkeyboard"))&&
(wa=1==b.nodeValue),(b=a.getAttributeNode("lockedwheel"))&&(Ub=1==b.nodeValue),(b=a.getAttributeNode("invertwheel"))&&(Vb=1==b.nodeValue),(b=a.getAttributeNode("speedwheel"))&&(Wb=1*b.nodeValue),(b=a.getAttributeNode("sensitifity"))&&(la=1*b.nodeValue),(b=a.getAttributeNode("sensitivity"))&&(la=1*b.nodeValue),(b=a.getAttributeNode("wrapx"))&&(Kb=1==b.nodeValue),(b=a.getAttributeNode("wrapy"))&&(Lb=1==b.nodeValue),(b=a.getAttributeNode("revx"))&&(eb=1==b.nodeValue),(b=a.getAttributeNode("revy"))&&
(fb=1==b.nodeValue),(b=a.getAttributeNode("swapxy"))&&(T=1==b.nodeValue),(b=a.getAttributeNode("dblclickfullscreen"))&&(rb=1==b.nodeValue),(b=a.getAttributeNode("automovemode"))&&(pb=1==b.nodeValue),(b=a.getAttributeNode("controller"))&&(ab=1*b.nodeValue));if("qthotspots"==a.nodeName){(b=a.getAttributeNode("reuse"))&&(da=1*b.nodeValue);(b=a.getAttributeNode("enabled"))&&(oa=1==b.nodeValue);pa=[];i={id:0,title:"",url:"",target:""};pa[i.id]=i;for(f=a.firstChild;f;)"hotspot"==f.nodeName&&(i={},b=f.getAttributeNode("id"),
i.id=1*(b?b.nodeValue:1),b=f.getAttributeNode("title"),i.title=b?b.nodeValue.toString():"",b=f.getAttributeNode("url"),i.url=b?b.nodeValue.toString():"",b=f.getAttributeNode("target"),i.target=b?b.nodeValue.toString():"",pa[i.id]=i),f=f.nextSibling}if("hotspots"==a.nodeName)for(f=a.firstChild;f;){if("label"==f.nodeName){i=Ba;if(b=f.getAttributeNode("enabled"))i.enabled=1==b.nodeValue;if(b=f.getAttributeNode("width"))i.width=1*b.nodeValue;if(b=f.getAttributeNode("height"))i.height=1*b.nodeValue;if(b=
f.getAttributeNode("textcolor"))i.Y=1*b.nodeValue;if(b=f.getAttributeNode("textalpha"))i.X=1*b.nodeValue;if(b=f.getAttributeNode("background"))i.background=1==b.nodeValue;if(b=f.getAttributeNode("backgroundalpha"))i.B=1*b.nodeValue;if(b=f.getAttributeNode("backgroundcolor"))i.C=1*b.nodeValue;if(b=f.getAttributeNode("border"))i.Q=1*b.nodeValue;if(b=f.getAttributeNode("bordercolor"))i.F=1*b.nodeValue;if(b=f.getAttributeNode("borderalpha"))i.D=1*b.nodeValue;if(b=f.getAttributeNode("borderradius"))i.P=
1*b.nodeValue;if(b=f.getAttributeNode("wordwrap"))i.wordwrap=1==b.nodeValue}"polystyle"==f.nodeName&&((b=f.getAttributeNode("mode"))&&(s=1*b.nodeValue),(b=f.getAttributeNode("bordercolor"))&&(wb=1*b.nodeValue),(b=f.getAttributeNode("backgroundcolor"))&&(yb=1*b.nodeValue),(b=f.getAttributeNode("borderalpha"))&&(xb=1*b.nodeValue),(b=f.getAttributeNode("backgroundalpha"))&&(zb=1*b.nodeValue));if("hotspot"==f.nodeName){i={hstype:"point",pan:0,tilt:0,url:"",target:"",id:"",skinid:"",w:100,h:20,wordwrap:r,
obj:k,q:k};(b=f.getAttributeNode("url"))&&(i.url=b.nodeValue.toString());(b=f.getAttributeNode("target"))&&(i.target=b.nodeValue.toString());(b=f.getAttributeNode("title"))&&(i.title=b.nodeValue.toString());(b=f.getAttributeNode("id"))&&(i.id=b.nodeValue.toString());if(b=f.getAttributeNode("reuse"))i.reuse=b.nodeValue;(b=f.getAttributeNode("skinid"))&&(i.skinid=b.nodeValue.toString());(b=a.getAttributeNode("width"))&&(i.w=b.nodeValue.toString());(b=a.getAttributeNode("height"))&&(i.h=b.nodeValue.toString());
(b=a.getAttributeNode("wordwrap"))&&(i.wordwrap=1==b.nodeValue);i.locations=[];for(var h=f.firstChild;h;){if("location"==h.nodeName){var l={column:0,row:0,state:0,x:0,y:0};(b=h.getAttributeNode("column"))&&(l.column=Number(b.nodeValue));(b=h.getAttributeNode("row"))&&(l.row=Number(b.nodeValue));(b=h.getAttributeNode("state"))&&(l.state=Number(b.nodeValue));(b=h.getAttributeNode("x"))&&(l.x=Number(b.nodeValue));(b=h.getAttributeNode("y"))&&(l.y=Number(b.nodeValue));i.locations.push(l)}h=h.nextSibling}y.push(i)}if("polyhotspot"==
f.nodeName){i={hstype:"poly",url:"",target:"",id:"",skinid:"",reuse:0,w:100,h:20,wordwrap:r,obj:k,q:k,p:0,t:0};(b=f.getAttributeNode("url"))&&(i.url=b.nodeValue.toString());(b=f.getAttributeNode("target"))&&(i.target=b.nodeValue.toString());(b=f.getAttributeNode("title"))&&(i.title=b.nodeValue.toString());(b=f.getAttributeNode("id"))&&(i.id=b.nodeValue.toString());if(b=f.getAttributeNode("reuse"))i.reuse=b.nodeValue;i.F=wb;i.C=yb;i.D=xb;i.B=zb;if(b=f.getAttributeNode("bordercolor"))i.F=1*b.nodeValue;
if(b=f.getAttributeNode("backgroundcolor"))i.C=1*b.nodeValue;if(b=f.getAttributeNode("borderalpha"))i.D=1*b.nodeValue;if(b=f.getAttributeNode("backgroundalpha"))i.B=1*b.nodeValue;i.H=[];for(h=f.firstChild;h;){if("polygon"==h.nodeName){l={Z:0,$:0,state:0,ga:""};if(b=h.getAttributeNode("vertices")){l.ga=b.nodeValue.toString();b=l.ga.split("|");l.L=[];for(var m=0;m<b.length;m++){var n={},o=b[m].split(";");n.q=[];for(var p=0;p<o.length;p++){var q=o[p].split(","),u={};u.x=1*q[0];u.y=1*q[1];n.q.push(u)}l.L.push(n)}}if(b=
h.getAttributeNode("column"))l.Z=b.nodeValue;if(b=h.getAttributeNode("row"))l.$=b.nodeValue;if(b=h.getAttributeNode("state"))l.state=b.nodeValue;i.H.push(l)}h=h.nextSibling}y.push(i)}f=f.nextSibling}"userdata"==a.nodeName&&(b=a.getAttributeNode("title"),c.userdata.title=b?b.nodeValue.toString():"",b=a.getAttributeNode("description"),c.userdata.description=b?b.nodeValue.toString():"",b=a.getAttributeNode("author"),c.userdata.author=b?b.nodeValue.toString():"",b=a.getAttributeNode("datetime"),c.userdata.datetime=
b?b.nodeValue.toString():"",b=a.getAttributeNode("copyright"),c.userdata.copyright=b?b.nodeValue.toString():"",b=a.getAttributeNode("source"),c.userdata.source=b?b.nodeValue.toString():"",b=a.getAttributeNode("info"),c.userdata.information=b?b.nodeValue.toString():"",b=a.getAttributeNode("comment"),c.userdata.comment=b?b.nodeValue.toString():"");a=a.nextSibling}c.ha();c.b=j;Xa&&c.divSkin&&c.divSkin.ggViewerInit&&c.divSkin.ggViewerInit();Xa=r;c.hasConfig=j;ra();t.style.backgroundColor=cc?bc(dc):"transparent";
c.preloadImages()};c.openUrl=function(a,c){0<a.length&&window.open(a,c)};c.detectBrowser();c.createLayers(Da);c.assignHandler()}window.object2vrPlayer=object2vrPlayer;window.ggHasCanvas=function(){var Da=document.createElement("canvas");return!(!Da.getContext||!Da.getContext("2d"))};
